# Arcomage Clone - Карточная игра на Flutter Flame

Клон классической карточной игры Arcomage, созданный на движке Flame для Flutter.

## Описание игры

Arcomage Clone - это пошаговая карточная игра, где два игрока (человек против ИИ) сражаются друг с другом, используя карты трех типов:

- **Красные карты (Кирпичи)** - фокусируются на строительстве и защите стен
- **Синие карты (Гемы)** - сосредоточены на строительстве башен и магических атаках
- **Зеленые карты (Звери)** - используются для атак и призыва существ

### Механика игры

Каждый игрок начинает с:
- Башня: 20 единиц
- Стена: 10 единиц
- По 8 кристаллов каждого типа
- По 1 генератору каждого типа (доход +1 за ход)
- 6 карт на руке

### Условия победы/поражения

- **Победа**: Довести свою башню до 50 единиц
- **Поражение**: Башня уничтожена (0 единиц)

## Требования

- Flutter SDK 3.16.0 или выше
- Dart SDK 3.2.0 или выше

## Установка и запуск

### 1. Клонирование проекта

```bash
git clone <repository-url>
cd arcomage_clone
```

### 2. Установка зависимостей

```bash
flutter pub get
```

### 3. Подготовка ассетов

Создайте следующие директории в папке проекта:

```
assets/
├── images/
├── audio/
├── cards/
└── fonts/
```

Поместите следующие файлы в соответствующие папки:

**assets/cards/:**
- red_card.png (изображение красной карты)
- blue_card.png (изображение синей карты) 
- green_card.png (изображение зеленой карты)

**assets/audio/:**
- background_music.mp3 (фоновая музыка)
- card_play.mp3 (звук разыгрывания карты)

**assets/fonts/:**
- pixel_font.ttf (пиксельный шрифт, опционально)

### 4. Запуск игры

```bash
flutter run
```

## Архитектура проекта

```
lib/
├── main.dart                          # Точка входа в приложение
└── game/
    ├── arcomage_game.dart             # Основной игровой класс
    ├── models/
    │   └── game_state.dart            # Модель состояния игры
    └── components/
        ├── card.dart                  # Класс карт и фабрика карт
        ├── player.dart                # Класс игрока
        ├── ai_player.dart             # Класс ИИ-противника
        └── game_board.dart            # Игровое поле и интерфейс
```

## Особенности реализации

### Система карт
- Каждая карта имеет цвет, стоимость и набор эффектов
- Фабрика карт создает предустановленную колоду
- Карты применяют эффекты к игрокам при разыгрывании

### ИИ-противник
- Использует простую эвристическую систему приоритетов
- Всегда выбирает самую "выгодную" карту из доступных
- Может сбрасывать карты, если нет ресурсов для игры

### Аудио-система
- Фоновая музыка во время игры
- Звуковые эффекты при разыгрывании карт
- Graceful fallback при отсутствии аудио-файлов

## Управление

- **Тап по карте** - разыграть карту (если хватает ресурсов)
- Игра автоматически переключается между ходами игрока и ИИ

## Известные ограничения

1. Простая ИИ-логика (можно улучшить)
2. Базовый набор карт (можно расширить)
3. Нет сетевого мультиплеера
4. Простая графика (можно улучшить спрайтами)

## Возможные улучшения

1. **Расширение набора карт** - добавить больше разнообразных карт
2. **Улучшение ИИ** - более сложные стратегии и анализ игровой ситуации
3. **Анимации** - анимации карт, эффектов, переходов
4. **Сетевой мультиплеер** - игра против других игроков онлайн
5. **Настройки** - выбор сложности ИИ, громкости звука
6. **Статистика** - отслеживание побед/поражений
7. **Кастомные колоды** - возможность создавать свои наборы карт

## Технические детали

### Используемые пакеты

- **flame: ^1.19.0** - основной игровой движок
- **flame_audio: ^2.1.1** - аудио-система для игр
- **flutter: sdk** - фреймворк UI

### Структура компонентов Flame

Игра использует систему компонентов Flame (FCS):
- `ArcomageGame` - корневой игровой компонент
- `GameBoard` - управляет отображением и логикой игрового поля
- `PlayerStatsDisplay` - отображает статистику игроков
- `CardDisplay` - отображает карты в руке игрока

## Отладка

### Частые проблемы

1. **Ошибки загрузки ассетов**
   - Убедитесь, что все файлы находятся в правильных папках
   - Проверьте правильность путей в pubspec.yaml

2. **Проблемы с аудио**
   - Аудио-файлы должны быть в формате MP3
   - Проверьте наличие файлов в assets/audio/

3. **Проблемы с производительностью**
   - Игра оптимизирована для 60 FPS
   - На старых устройствах может потребоваться снижение качества графики

## Лицензия

Проект создан в образовательных целях. Свободен для изучения и модификации.

## Авторы

Создано с использованием Flutter Flame engine по мотивам классической игры Arcomage.
